<!DOCTYPE html>

{% load static %}
<html lang="en">
<head>

    <link rel="stylesheet" href="{% static 'css/admin_panel/login_style.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <link rel="shortcut icon" href="static/images/infinity_logo_icon.png" style="width: 5px;">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Reset Password</title>
</head>
<body>
    <nav class="navbar navbar-expand-sm custom-navbar d2">
       
        <div class="container-fluid">

            <img src="{% static 'images/infinity_logo.png'%}" alt="" class="logo">
            
            <!-- Spacer to push user info and dropdown to the right -->
            <div class="flex-grow-1"></div>
            
            <!-- User info and dropdown -->
          
        </div>
    </nav>
    <div class="login-container">
        <h2>RESET PASSWORD</h2>
        <div style="text-align: center;">
            <p  class="text-secondary">Please enter new password and confirm password.

            </p>
        </div> 
        <form id="psForm" method="post" enctype="multipart/form-data" onsubmit="return validatePasswordForm(event)" >
            {% csrf_token %}
          <div class="login-input">
            <div class="password-container">

                <div class="password-container">
                    <input type="password" id="newPassword" name="newPassword" onkeyup="validatePassword()" placeholder="Enter New Password" required>
                    <!-- <img src="{% static 'images/closed.png' %}" alt="Show Password" id="togglePassword1" class="eye-icon1"> -->
                    <i class="fa-regular fa-eye eye-icon2" id="togglePassword1"></i>                    

                </div>
                <span id="passwordError" class="error-message"></span>
                <div>
                    <input type="password" id="confirmPassword" name="confirmPassword" onkeyup="validatePassword()" placeholder=" Enter Confirm Password" required>
                    <!-- <img src="{% static 'images/closed.png' %}" alt="Show Password" id="togglePassword2" class="eye-icon2"> -->
                    <i class="fa-regular fa-eye eye-icon2" id="togglePassword2"></i>                    
                    <span id="confirmPasswordError" class="error-message"></span>
                </div>
           

            </div>
          </div>
        
        <input value="Save" type="submit" class="login-button" id="loginButton">
        </form>   
    </div>
        <div class="overlay" id="overlay">
            <div class="dialog-box" id="dialogBox">
                <i class="fas fa-check-circle"></i>
                <p>Password Changed Successfully</p>
            </div>
        </div>    
        <script>
            const passwordField1 = document.getElementById('newPassword');
            const togglePassword1 = document.getElementById('togglePassword1');
        
            togglePassword1.addEventListener('click', () => {
                if (passwordField1.type === 'password') {
                    passwordField1.type = 'text';
                    togglePassword1.classList.remove('far', 'fa-eye');
                    togglePassword1.classList.add('far', 'fa-eye-slash');
                } else {
                    passwordField1.type = 'password';
                    togglePassword1.classList.remove('far', 'fa-eye-slash');
                    togglePassword1.classList.add('far', 'fa-eye');
                }
            });

                const passwordField2 = document.getElementById('confirmPassword');
                const togglePassword2 = document.getElementById('togglePassword2');
            
                togglePassword2.addEventListener('click', () => {
                    if (passwordField2.type === 'password') {
                        passwordField2.type = 'text';
                        togglePassword2.classList.remove('far', 'fa-eye');
                        togglePassword2.classList.add('far', 'fa-eye-slash');
                    } else {
                        passwordField2.type = 'password';
                        togglePassword2.classList.remove('far', 'fa-eye-slash');
                        togglePassword2.classList.add('far', 'fa-eye');
                    }
                });

                function showPopup() {
                    const overlay = document.getElementById('overlay');
                    overlay.style.display = 'block';
                
                    // Hide the popup after 2 seconds
                    setTimeout(() => {
                        overlay.style.display = 'none';
                        // Redirect to another page
                        window.location.href = '/redirect-page'; // Replace with your desired URL
                    }, 2000); // 2000 milliseconds (2 seconds)
                }
                
                // Call the showPopup function when needed, for example, after a successful password change
                showPopup();
            
        </script>
    <script src="{% static 'js/admin_panel/forget.js' %}"></script>
</body>
</html> 